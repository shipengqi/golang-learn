<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="API æ–‡æ¡£ # ä½¿ç”¨ Swagger ç”Ÿæˆ API æ–‡æ¡£ # Swagger æ˜¯åŸºäº OpenAPI è§„èŒƒçš„ API æ–‡æ¡£å·¥å…·ã€‚
OpenAPI æ˜¯ä¸€ä¸ª API è§„èŒƒï¼Œå®ƒçš„å‰èº«å°±æ˜¯ Swagger è§„èŒƒï¼Œç›®å‰æœ€æ–°çš„ OpenAPI è§„èŒƒæ˜¯ OpenAPI 3.0ï¼ˆä¹Ÿå°±æ˜¯ Swagger 2.0 è§„èŒƒï¼‰ã€‚
Swagger ç¼–è¾‘å™¨ # Swagger ç¼–è¾‘æ˜¯ä¸€ä¸ªåœ¨çº¿çš„ API æ–‡æ¡£ç¼–è¾‘å™¨ï¼Œå¯ä»¥åœ¨å…¶ä¸­ç¼–å†™ OpenAPI è§„èŒƒï¼Œå¹¶å®æ—¶é¢„è§ˆ API æ–‡æ¡£ã€‚
åŸºäºä»£ç è‡ªåŠ¨ç”Ÿæˆ Swagger æ–‡æ¡£ # Go ç”Ÿæˆ Swagger æ–‡æ¡£å¸¸ç”¨çš„å·¥å…·æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯ swag å’Œ go-swaggerã€‚
æ¨èä½¿ç”¨ go-swaggerï¼š
go-swagger æä¾›äº†æ›´çµæ´»ã€æ›´å¤šçš„åŠŸèƒ½æ¥æè¿° APIï¼Œå¯ä»¥ç”Ÿæˆå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä»£ç ã€‚ ä½¿ç”¨ swag çš„è¯ï¼Œæ¯ä¸€ä¸ª API éƒ½éœ€è¦æœ‰ä¸€ä¸ªå†—é•¿çš„æ³¨é‡Šï¼Œæœ‰æ—¶å€™ä»£ç æ³¨é‡Šæ¯”ä»£ç è¿˜è¦é•¿ï¼Œä½†æ˜¯é€šè¿‡ go-swagger å¯ä»¥å°†ä»£ç å’Œæ³¨é‡Šåˆ†å¼€ç¼–å†™ï¼Œå¯ä»¥ä½¿ä»£ç ä¿æŒç®€æ´ï¼Œæ¸…æ™°æ˜“è¯»ï¼Œè€Œä¸”å¯ä»¥æŠŠ API å®šä¹‰æ”¾åœ¨ä¸€ä¸ªç›®å½•ä¸­ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚ å®‰è£… go-swagger # $ go get -u github."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:title" content="API æ–‡æ¡£"><meta property="og:description" content="API æ–‡æ¡£ # ä½¿ç”¨ Swagger ç”Ÿæˆ API æ–‡æ¡£ # Swagger æ˜¯åŸºäº OpenAPI è§„èŒƒçš„ API æ–‡æ¡£å·¥å…·ã€‚
OpenAPI æ˜¯ä¸€ä¸ª API è§„èŒƒï¼Œå®ƒçš„å‰èº«å°±æ˜¯ Swagger è§„èŒƒï¼Œç›®å‰æœ€æ–°çš„ OpenAPI è§„èŒƒæ˜¯ OpenAPI 3.0ï¼ˆä¹Ÿå°±æ˜¯ Swagger 2.0 è§„èŒƒï¼‰ã€‚
Swagger ç¼–è¾‘å™¨ # Swagger ç¼–è¾‘æ˜¯ä¸€ä¸ªåœ¨çº¿çš„ API æ–‡æ¡£ç¼–è¾‘å™¨ï¼Œå¯ä»¥åœ¨å…¶ä¸­ç¼–å†™ OpenAPI è§„èŒƒï¼Œå¹¶å®æ—¶é¢„è§ˆ API æ–‡æ¡£ã€‚
åŸºäºä»£ç è‡ªåŠ¨ç”Ÿæˆ Swagger æ–‡æ¡£ # Go ç”Ÿæˆ Swagger æ–‡æ¡£å¸¸ç”¨çš„å·¥å…·æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯ swag å’Œ go-swaggerã€‚
æ¨èä½¿ç”¨ go-swaggerï¼š
go-swagger æä¾›äº†æ›´çµæ´»ã€æ›´å¤šçš„åŠŸèƒ½æ¥æè¿° APIï¼Œå¯ä»¥ç”Ÿæˆå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä»£ç ã€‚ ä½¿ç”¨ swag çš„è¯ï¼Œæ¯ä¸€ä¸ª API éƒ½éœ€è¦æœ‰ä¸€ä¸ªå†—é•¿çš„æ³¨é‡Šï¼Œæœ‰æ—¶å€™ä»£ç æ³¨é‡Šæ¯”ä»£ç è¿˜è¦é•¿ï¼Œä½†æ˜¯é€šè¿‡ go-swagger å¯ä»¥å°†ä»£ç å’Œæ³¨é‡Šåˆ†å¼€ç¼–å†™ï¼Œå¯ä»¥ä½¿ä»£ç ä¿æŒç®€æ´ï¼Œæ¸…æ™°æ˜“è¯»ï¼Œè€Œä¸”å¯ä»¥æŠŠ API å®šä¹‰æ”¾åœ¨ä¸€ä¸ªç›®å½•ä¸­ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚ å®‰è£… go-swagger # $ go get -u github."><meta property="og:type" content="article"><meta property="og:url" content="https://shipengqi.github.io/golang-learn/docs/project/06_api_doc/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2024-12-10T13:28:06+08:00"><title>API æ–‡æ¡£ | Go Learning</title><link rel=manifest href=/golang-learn/manifest.json><link rel=icon href=/golang-learn/favicon.png><link rel=stylesheet href=/golang-learn/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz+OQteg=" crossorigin=anonymous><script defer src=/golang-learn/flexsearch.min.js></script>
<script defer src=/golang-learn/en.search.min.615485de8d6610abd70ef04878dc149de209befa1eb24d891649b5d2d93d76c9.js integrity="sha256-YVSF3o1mEKvXDvBIeNwUneIJvvoesk2JFkm10tk9dsk=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/golang-learn/><span>Go Learning</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=https://shipengqi.github.io/ target=_blank rel=noopener>Blog</a></li><li><a href=https://github.com/shipengqi/golang-learn target=_blank rel=noopener>Github</a></li></ul><ul><li><span>ğŸš è¯­è¨€åŸºç¡€</span><ul><li><a href=/golang-learn/docs/basic/01_basic_type/>åŸºç¡€æ•°æ®ç±»å‹</a></li><li><a href=/golang-learn/docs/basic/02_array/>æ•°ç»„</a></li><li><a href=/golang-learn/docs/basic/03_slice/>åˆ‡ç‰‡</a></li><li><a href=/golang-learn/docs/basic/04_map/>å“ˆå¸Œè¡¨</a></li><li><a href=/golang-learn/docs/basic/05_function/>å‡½æ•°</a></li><li><a href=/golang-learn/docs/basic/09_pointer/>æŒ‡é’ˆ</a></li></ul></li><li><a href=/golang-learn/docs/concurrency/>âš¡ å¹¶å‘ç¼–ç¨‹</a><ul><li><a href=/golang-learn/docs/concurrency/01_mutex/>äº’æ–¥é”</a></li><li><a href=/golang-learn/docs/concurrency/02_rwmutex/>è¯»å†™é”</a></li><li><a href=/golang-learn/docs/concurrency/03_waitgroup/>WaitGroup</a></li><li><a href=/golang-learn/docs/concurrency/04_cond/>æ¡ä»¶å˜é‡</a></li><li><a href=/golang-learn/docs/concurrency/05_once/>Once</a></li><li><a href=/golang-learn/docs/concurrency/06_pool/>Pool</a></li><li><a href=/golang-learn/docs/concurrency/07_context/>Context</a></li><li><a href=/golang-learn/docs/concurrency/08_atomic/>åŸå­æ“ä½œ</a></li><li><a href=/golang-learn/docs/concurrency/09_channel/>Channel</a></li><li><a href=/golang-learn/docs/concurrency/10_sema/>ä¿¡å·é‡</a></li><li><a href=/golang-learn/docs/concurrency/11_singleflight/>SingleFlight</a></li><li><a href=/golang-learn/docs/concurrency/12_errorgroup/>ErrGroup</a></li></ul></li><li><span>ğŸ› ï¸ å®è·µ</span><ul><li><a href=/golang-learn/docs/practice/01_build/>Go ç¼–è¯‘</a></li><li><a href=/golang-learn/docs/practice/02_go_race/>Go æ•°æ®ç«äº‰æ£€æµ‹å™¨</a></li><li><a href=/golang-learn/docs/practice/04_pprof/>Go æ€§èƒ½åˆ†æï¼ˆä¸Šï¼‰</a></li><li><a href=/golang-learn/docs/practice/05_trace/>Go æ€§èƒ½åˆ†æï¼ˆä¸‹ï¼‰</a></li><li><a href=/golang-learn/docs/practice/06_performance/>Go æ€§èƒ½ä¼˜åŒ–</a></li><li><a href=/golang-learn/docs/practice/07_coredump/>Go Core Dump è°ƒè¯•</a></li><li><a href=/golang-learn/docs/practice/08_mod/>Go Modules</a></li><li><a href=/golang-learn/docs/practice/09_gin/>Gin é™æ€æœåŠ¡å™¨</a></li><li><a href=/golang-learn/docs/practice/10_remote_dev/>Go è¿œç¨‹å¼€å‘è°ƒè¯•</a></li></ul></li><li><span>ğŸ› ï¸ Go å·¥ç¨‹å®è·µ</span><ul><li><a href=/golang-learn/docs/project/01_specs/>é¡¹ç›®è§„èŒƒ</a></li><li><a href=/golang-learn/docs/project/02_structure/>é¡¹ç›®çš„ç›®å½•ç»“æ„</a></li><li><a href=/golang-learn/docs/project/03_code/>ä»£ç è§„èŒƒ</a></li><li><a href=/golang-learn/docs/project/04_commitizen/>Commit è§„èŒƒ</a></li><li><a href=/golang-learn/docs/project/05_version/>ç‰ˆæœ¬è§„èŒƒ</a></li><li><a href=/golang-learn/docs/project/06_api_doc/ class=active>API æ–‡æ¡£</a></li><li><a href=/golang-learn/docs/project/07_flow/>Git å·¥ä½œæµç¨‹</a></li><li><a href=/golang-learn/docs/project/08_make/>é¡¹ç›®ç®¡ç†</a></li><li><a href=/golang-learn/docs/project/09_actions/>GitHub Actions</a></li><li><a href=/golang-learn/docs/project/10_dependabot/>GitHub Dependabot</a></li><li><a href=/golang-learn/docs/project/11_templates/>GitHub æ¨¡æ¿</a></li><li><a href=/golang-learn/docs/project/12_goreleaser/>GoReleaser</a></li><li><a href=/golang-learn/docs/project/14_error/>é”™è¯¯å¤„ç†</a></li><li><a href=/golang-learn/docs/project/16_casbin/>Casbin</a></li></ul></li><li><a href=/golang-learn/docs/advance/>ğŸ” åº•å±‚åŸç†</a><ul></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/golang-learn/svg/menu.svg class=book-icon alt=Menu></label>
<strong>API æ–‡æ¡£</strong>
<label for=toc-control><img src=/golang-learn/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#api-æ–‡æ¡£>API æ–‡æ¡£</a><ul><li><a href=#ä½¿ç”¨-swagger-ç”Ÿæˆ-api-æ–‡æ¡£>ä½¿ç”¨ Swagger ç”Ÿæˆ API æ–‡æ¡£</a></li><li><a href=#swagger-ç¼–è¾‘å™¨>Swagger ç¼–è¾‘å™¨</a></li><li><a href=#åŸºäºä»£ç è‡ªåŠ¨ç”Ÿæˆ-swagger-æ–‡æ¡£>åŸºäºä»£ç è‡ªåŠ¨ç”Ÿæˆ Swagger æ–‡æ¡£</a><ul><li><a href=#å®‰è£…-go-swagger>å®‰è£… go-swagger</a></li><li><a href=#ä½¿ç”¨>ä½¿ç”¨</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=api-æ–‡æ¡£>API æ–‡æ¡£
<a class=anchor href=#api-%e6%96%87%e6%a1%a3>#</a></h1><h2 id=ä½¿ç”¨-swagger-ç”Ÿæˆ-api-æ–‡æ¡£>ä½¿ç”¨ Swagger ç”Ÿæˆ API æ–‡æ¡£
<a class=anchor href=#%e4%bd%bf%e7%94%a8-swagger-%e7%94%9f%e6%88%90-api-%e6%96%87%e6%a1%a3>#</a></h2><p>Swagger æ˜¯åŸºäº OpenAPI è§„èŒƒçš„ API æ–‡æ¡£å·¥å…·ã€‚</p><blockquote><p>OpenAPI æ˜¯ä¸€ä¸ª API è§„èŒƒï¼Œå®ƒçš„å‰èº«å°±æ˜¯ Swagger è§„èŒƒï¼Œç›®å‰æœ€æ–°çš„ OpenAPI
è§„èŒƒæ˜¯ <a href=https://swagger.io/docs/specification/about/>OpenAPI 3.0</a>ï¼ˆä¹Ÿå°±æ˜¯ Swagger 2.0 è§„èŒƒï¼‰ã€‚</p></blockquote><h2 id=swagger-ç¼–è¾‘å™¨>Swagger ç¼–è¾‘å™¨
<a class=anchor href=#swagger-%e7%bc%96%e8%be%91%e5%99%a8>#</a></h2><p>Swagger ç¼–è¾‘æ˜¯ä¸€ä¸ªåœ¨çº¿çš„ API æ–‡æ¡£<a href=https://editor.swagger.io>ç¼–è¾‘å™¨</a>ï¼Œå¯ä»¥åœ¨å…¶ä¸­ç¼–å†™ OpenAPI è§„èŒƒï¼Œå¹¶å®æ—¶é¢„è§ˆ API æ–‡æ¡£ã€‚</p><h2 id=åŸºäºä»£ç è‡ªåŠ¨ç”Ÿæˆ-swagger-æ–‡æ¡£>åŸºäºä»£ç è‡ªåŠ¨ç”Ÿæˆ Swagger æ–‡æ¡£
<a class=anchor href=#%e5%9f%ba%e4%ba%8e%e4%bb%a3%e7%a0%81%e8%87%aa%e5%8a%a8%e7%94%9f%e6%88%90-swagger-%e6%96%87%e6%a1%a3>#</a></h2><p>Go ç”Ÿæˆ Swagger æ–‡æ¡£å¸¸ç”¨çš„å·¥å…·æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯ <a href=https://github.com/swaggo/swag>swag</a> å’Œ <a href=https://github.com/go-swagger/go-swagger>go-swagger</a>ã€‚</p><p>æ¨èä½¿ç”¨ go-swaggerï¼š</p><ol><li>go-swagger æä¾›äº†æ›´çµæ´»ã€æ›´å¤šçš„åŠŸèƒ½æ¥æè¿° APIï¼Œå¯ä»¥ç”Ÿæˆå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä»£ç ã€‚</li><li>ä½¿ç”¨ swag çš„è¯ï¼Œæ¯ä¸€ä¸ª API éƒ½éœ€è¦æœ‰ä¸€ä¸ªå†—é•¿çš„æ³¨é‡Šï¼Œæœ‰æ—¶å€™ä»£ç æ³¨é‡Šæ¯”ä»£ç è¿˜è¦é•¿ï¼Œä½†æ˜¯é€šè¿‡ go-swagger å¯ä»¥å°†ä»£ç å’Œæ³¨é‡Šåˆ†å¼€ç¼–å†™ï¼Œå¯ä»¥ä½¿ä»£ç ä¿æŒç®€æ´ï¼Œæ¸…æ™°æ˜“è¯»ï¼Œè€Œä¸”å¯ä»¥æŠŠ API å®šä¹‰æ”¾åœ¨ä¸€ä¸ªç›®å½•ä¸­ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚</li></ol><h3 id=å®‰è£…-go-swagger>å®‰è£… go-swagger
<a class=anchor href=#%e5%ae%89%e8%a3%85-go-swagger>#</a></h3><pre tabindex=0><code>$ go get -u github.com/go-swagger/go-swagger/cmd/swagger
$ swagger version
version: v0.30.3
commit: ecf6f05b6ecc1b1725c8569534f133fa27e9de6b
</code></pre><p>å‘½ä»¤æ ¼å¼ä¸º <code>swagger [OPTIONS] &lt;command></code>ã€‚</p><p><code>swagger</code> æä¾›çš„å­å‘½ä»¤ï¼š</p><table><thead><tr><th>å­å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td>diff</td><td>å¯¹æ¯”ä¸¤ä¸ª swagger æ–‡æ¡£çš„å·®å¼‚</td></tr><tr><td>expand</td><td>å±•å¼€ swagger å®šä¹‰æ–‡æ¡£ä¸­çš„ $ref</td></tr><tr><td>flatten</td><td>å±•å¹³ swagger æ–‡æ¡£</td></tr><tr><td>generate</td><td>ç”Ÿæˆ swagger æ–‡æ¡£ï¼Œå®¢æˆ·ç«¯ï¼ŒæœåŠ¡ç«¯ä»£ç </td></tr><tr><td>ini</td><td>åˆå§‹åŒ–ä¸€ä¸ª swagger å®šä¹‰æ–‡æ¡£</td></tr><tr><td>mix</td><td>åˆå¹¶ swagger æ–‡æ¡£</td></tr><tr><td>serv</td><td>å¯åŠ¨ http æœåŠ¡ï¼Œç”¨æ¥æŸ¥çœ‹ swagger æ–‡æ¡£</td></tr><tr><td>validate</td><td>éªŒè¯ swagger ç¬¬ä¸€æ–‡ä»¶æ˜¯å¦æ­£ç¡®</td></tr></tbody></table><h3 id=ä½¿ç”¨>ä½¿ç”¨
<a class=anchor href=#%e4%bd%bf%e7%94%a8>#</a></h3><p>go-swagger é€šè¿‡è§£ææºç ä¸­çš„æ³¨é‡Šæ¥ç”Ÿæˆ Swagger æ–‡æ¡£ã€‚</p><p>æ³¨é‡Šè¯­æ³•ï¼š</p><table><thead><tr><th>æ³¨é‡Šè¯­æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>swagger:meta</td><td>å®šä¹‰å…¨å±€åŸºæœ¬ä¿¡æ¯</td></tr><tr><td>swagger:route</td><td>å®šä¹‰è·¯ç”±ä¿¡æ¯</td></tr><tr><td>swagger:parameters</td><td>API è¯·æ±‚å‚æ•°</td></tr><tr><td>swagger:response</td><td>API å“åº”å‚æ•°</td></tr><tr><td>swagger:model</td><td>å¯ä»¥å¤ç”¨çš„ Go æ•°æ®ç»“æ„</td></tr><tr><td>swagger:allOf</td><td>åµŒå…¥å…¶ä»– Go ç»“æ„ä½“</td></tr><tr><td>swagger:strfmt</td><td>æ ¼å¼åŒ–çš„å­—ç¬¦ä¸²</td></tr><tr><td>swagger:ignore</td><td>éœ€è¦å¿½ç•¥çš„ç»“æ„ä½“</td></tr></tbody></table><p><code>swagger generate</code> å‘½ä»¤ä¼šæ‰¾åˆ° <code>main</code> å‡½æ•°ï¼Œç„¶åéå†æ‰€æœ‰æºç æ–‡ä»¶ï¼Œè§£ææºç ä¸­ä¸ Swagger
ç›¸å…³çš„æ³¨é‡Šï¼Œç„¶åè‡ªåŠ¨ç”Ÿæˆ <code>swagger.json/swagger.yaml</code> æ–‡ä»¶ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;log&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;net/http&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/gin-gonic/gin&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/shipengqi/idm/swagger/api&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// This line is necessary for go-swagger to find your docs!
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>_</span> <span style=color:#e6db74>&#34;github.com/shipengqi/idm/swagger/docs&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>users</span> []<span style=color:#f92672>*</span><span style=color:#a6e22e>api</span>.<span style=color:#a6e22e>User</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>r</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>gin</span>.<span style=color:#a6e22e>Default</span>()
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>POST</span>(<span style=color:#e6db74>&#34;/users&#34;</span>, <span style=color:#a6e22e>Create</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>GET</span>(<span style=color:#e6db74>&#34;/users/:name&#34;</span>, <span style=color:#a6e22e>Get</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Run</span>(<span style=color:#e6db74>&#34;:8081&#34;</span>))
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Create a user.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Create</span>(<span style=color:#a6e22e>c</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>gin</span>.<span style=color:#a6e22e>Context</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>user</span> <span style=color:#a6e22e>api</span>.<span style=color:#a6e22e>User</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>ShouldBindJSON</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>user</span>); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>JSON</span>(<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>StatusBadRequest</span>, <span style=color:#a6e22e>gin</span>.<span style=color:#a6e22e>H</span>{<span style=color:#e6db74>&#34;message&#34;</span>: <span style=color:#a6e22e>err</span>.<span style=color:#a6e22e>Error</span>(), <span style=color:#e6db74>&#34;code&#34;</span>: <span style=color:#ae81ff>10001</span>})
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>u</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>users</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>u</span>.<span style=color:#a6e22e>Name</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>Name</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>JSON</span>(<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>StatusBadRequest</span>, <span style=color:#a6e22e>gin</span>.<span style=color:#a6e22e>H</span>{<span style=color:#e6db74>&#34;message&#34;</span>: <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#e6db74>&#34;user %s already exist&#34;</span>, <span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>Name</span>), <span style=color:#e6db74>&#34;code&#34;</span>: <span style=color:#ae81ff>10001</span>})
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>users</span> = append(<span style=color:#a6e22e>users</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>user</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>JSON</span>(<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>StatusOK</span>, <span style=color:#a6e22e>user</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Get return user details.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>c</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>gin</span>.<span style=color:#a6e22e>Context</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>username</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>Param</span>(<span style=color:#e6db74>&#34;name&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>u</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>users</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>u</span>.<span style=color:#a6e22e>Name</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>username</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>JSON</span>(<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>StatusOK</span>, <span style=color:#a6e22e>u</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>JSON</span>(<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>StatusBadRequest</span>, <span style=color:#a6e22e>gin</span>.<span style=color:#a6e22e>H</span>{<span style=color:#e6db74>&#34;message&#34;</span>: <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#e6db74>&#34;user %s not exist&#34;</span>, <span style=color:#a6e22e>username</span>), <span style=color:#e6db74>&#34;code&#34;</span>: <span style=color:#ae81ff>10002</span>})
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><code>swagger/api/user.go</code>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>api</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// User represents body of User request and response.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>User</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// User&#39;s name.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Required: true
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>Name</span> <span style=color:#66d9ef>string</span> <span style=color:#e6db74>`json:&#34;name&#34;`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// User&#39;s nickname.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Required: true
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>Nickname</span> <span style=color:#66d9ef>string</span> <span style=color:#e6db74>`json:&#34;nickname&#34;`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// User&#39;s address.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>Address</span> <span style=color:#66d9ef>string</span> <span style=color:#e6db74>`json:&#34;address&#34;`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// User&#39;s email.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>Email</span> <span style=color:#66d9ef>string</span> <span style=color:#e6db74>`json:&#34;email&#34;`</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><code>Required: true</code> è¯´æ˜å­—æ®µæ˜¯å¿…é¡»çš„ã€‚</p><p>å¦å¤–ä¸€ä¸ª Go åŒ…ä¸­ç¼–å†™å¸¦ go-swagger æ³¨é‡Šçš„ API æ–‡æ¡£ã€‚ å…ˆåˆ›å»ºä¸€ä¸ªç›®å½• <code>swagger/docs</code>ã€‚åœ¨ <code>swagger/docs</code> åˆ›å»º <code>doc.go</code> æ–‡ä»¶ï¼Œæä¾›åŸºæœ¬çš„ API ä¿¡æ¯ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// Package docs awesome.
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Documentation of our awesome API.
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>//     Schemes: http, https
</span></span></span><span style=display:flex><span><span style=color:#75715e>//     BasePath: /
</span></span></span><span style=display:flex><span><span style=color:#75715e>//     Version: 0.1.0
</span></span></span><span style=display:flex><span><span style=color:#75715e>//     Host: some-url.com
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>//     Consumes:
</span></span></span><span style=display:flex><span><span style=color:#75715e>//     - application/json
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>//     Produces:
</span></span></span><span style=display:flex><span><span style=color:#75715e>//     - application/json
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>//     Security:
</span></span></span><span style=display:flex><span><span style=color:#75715e>//     - basic
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>//    SecurityDefinitions:
</span></span></span><span style=display:flex><span><span style=color:#75715e>//    basic:
</span></span></span><span style=display:flex><span><span style=color:#75715e>//      type: basic
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>// swagger:meta
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>package</span> <span style=color:#a6e22e>docs</span>
</span></span></code></pre></div><p>æ³¨æ„æœ€åä»¥ <code>swagger:meta</code> æ³¨é‡Šç»“æŸã€‚</p><p>ç¼–å†™å®Œ <code>doc.go</code> æ–‡ä»¶åï¼Œ ç¼–å†™ API çš„å®šä¹‰æ–‡ä»¶ <code>swagger/docs/user.go</code>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>docs</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>v1</span> <span style=color:#e6db74>&#34;github.com/shipengqi/idm/api/apiserver/v1&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>metav1</span> <span style=color:#e6db74>&#34;github.com/shipengqi/idm/api/meta/v1&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// swagger:route GET /users/{name} Users getUserRequest
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Get details for specified user.
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Get details for specified user according to input parameters.
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>//     Responses:
</span></span></span><span style=display:flex><span><span style=color:#75715e>//       default: errResponse
</span></span></span><span style=display:flex><span><span style=color:#75715e>//       200: getUserResponse
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// swagger:route GET /users Users listUserRequest
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>// List users.
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>// List users.
</span></span></span><span style=display:flex><span><span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e>//     Responses:
</span></span></span><span style=display:flex><span><span style=color:#75715e>//       default: errResponse
</span></span></span><span style=display:flex><span><span style=color:#75715e>//       200: listUserResponse
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// List users request.
</span></span></span><span style=display:flex><span><span style=color:#75715e>// swagger:parameters listUserRequest
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>listUserRequestParamsWrapper</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// in:query
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>metav1</span>.<span style=color:#a6e22e>ListOptions</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// List users response.
</span></span></span><span style=display:flex><span><span style=color:#75715e>// swagger:response listUserResponse
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>listUserResponseWrapper</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// in:body
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>Body</span> <span style=color:#a6e22e>v1</span>.<span style=color:#a6e22e>UserList</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// User response.
</span></span></span><span style=display:flex><span><span style=color:#75715e>// swagger:response getUserResponse
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>getUserResponseWrapper</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// in:body
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>Body</span> <span style=color:#a6e22e>v1</span>.<span style=color:#a6e22e>User</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// swagger:parameters createUserRequest updateUserRequest
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>userRequestParamsWrapper</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// User information.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// in:body
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>Body</span> <span style=color:#a6e22e>v1</span>.<span style=color:#a6e22e>User</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// swagger:parameters deleteUserRequest getUserRequest updateUserRequest
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>userNameParamsWrapper</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Username.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// in:path
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>Name</span> <span style=color:#66d9ef>string</span> <span style=color:#e6db74>`json:&#34;name&#34;`</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ErrResponse defines the return messages when an error occurred.
</span></span></span><span style=display:flex><span><span style=color:#75715e>// swagger:response errResponse
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>errResponseWrapper</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// in:body
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>Body</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>Response</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Return nil json object.
</span></span></span><span style=display:flex><span><span style=color:#75715e>// swagger:response okResponse
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>okResponseWrapper</span> <span style=color:#66d9ef>struct</span>{}
</span></span></code></pre></div><ul><li><code>swagger:route</code>ï¼šæè¿°ä¸€ä¸ª APIï¼Œæ ¼å¼ä¸º <code>swagger:route [method] [url path pattern] [?tag1 tag2 tag3] [operation id]</code>ï¼Œtag å¯ä»¥æ˜¯å¤šä¸ªï¼Œç›¸åŒ tag çš„ API åœ¨ Swagger æ–‡æ¡£ä¸­ä¼šè¢«åˆ†ä¸ºä¸€ç»„ã€‚operation id ä¼šå’Œ
<code>swagger:parameters</code> çš„å®šä¹‰è¿›è¡ŒåŒ¹é…ï¼Œå°±æ˜¯è¯¥ API çš„è¯·æ±‚å‚æ•°ã€‚
<code>swagger:route</code> ä¸‹é¢çš„ä¸€è¡Œæ˜¯è¯¥ API çš„æè¿°ï¼Œéœ€è¦ä»¥ <code>.</code> ä¸ºç»“å°¾ã€‚<code>responses:</code> å®šä¹‰äº† API çš„è¿”å›å‚æ•°ï¼Œä¾‹å¦‚å½“ HTTP çŠ¶æ€ç æ˜¯ 200 æ—¶ï¼Œè¿”å› <code>createUserResponse</code>ï¼Œ<code>createUserResponse</code> ä¼šå’Œ <code>swagger:response</code> çš„å®šä¹‰è¿›è¡ŒåŒ¹é…ï¼ŒåŒ¹é…æˆåŠŸçš„ <code>swagger:response</code> å°±æ˜¯è¯¥ API è¿”å› 200 çŠ¶æ€ç æ—¶çš„è¿”å›ã€‚</li><li><code>swagger:response</code>ï¼šå®šä¹‰äº† API çš„è¿”å›ï¼Œæ ¼å¼ä¸º <code>swagger:response [?response name]</code>.ä¾‹å¦‚ <code>getUserResponseWrapper</code> ä¸­æœ‰ä¸€ä¸ª <code>Body</code> å­—æ®µï¼Œå…¶æ³¨é‡Šä¸º <code>// in:body</code>ï¼Œè¯´æ˜è¯¥å‚æ•°æ˜¯åœ¨ HTTP Body ä¸­è¿”å›ã€‚
<code>swagger:response</code> ä¸Šçš„æ³¨é‡Šæ˜¯ response çš„æè¿°ã€‚<code>api.User</code> ä¼šè¢« go-swagger è§£æä¸º Example Value å’Œ Modelï¼Œä¸éœ€è¦é‡å¤ç¼–å†™ã€‚</li><li><code>swagger:parameters</code>ï¼šå®šä¹‰äº† API çš„è¯·æ±‚å‚æ•°ï¼Œæ ¼å¼ä¸º <code>swagger:parameters [operationid1 operationid2]</code>
ã€‚ä¾‹å¦‚ <code>userRequestParamsWrapper</code>ã€‚<code>userRequestParamsWrapper</code> ä¸Šçš„æ³¨é‡Šæ˜¯è¯·æ±‚å‚æ•°çš„æè¿°ã€‚</li></ul><p>è¿›å…¥ <code>swagger</code> ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œç”Ÿæˆ Swagger API æ–‡æ¡£ï¼š</p><pre tabindex=0><code>$ swagger generate spec -o swagger.yaml
</code></pre><ul><li><code>-o</code>ï¼šæŒ‡å®šè¦è¾“å‡ºçš„æ–‡ä»¶åã€‚swagger ä¼šæ ¹æ®æ–‡ä»¶ååç¼€ <code>.yaml</code> æˆ–è€… <code>.json</code>ï¼Œå†³å®šç”Ÿæˆçš„æ–‡ä»¶æ ¼å¼ä¸º YAML æˆ– JSONã€‚</li></ul><p>å¯åŠ¨ HTTP æœåŠ¡ï¼š</p><pre tabindex=0><code>$ swagger serve --no-open -F=redoc --port 36666 swagger.yaml
</code></pre><ul><li><code>â€“no-open</code>ï¼š<code>-â€“no-open</code> ç¦æ­¢è°ƒç”¨æµè§ˆå™¨æ‰“å¼€ URLã€‚</li><li><code>-F</code>ï¼šæŒ‡å®šæ–‡æ¡£çš„é£æ ¼ï¼Œå¯é€‰ <code>swagger</code> å’Œ <code>redoc</code>ã€‚<code>redoc</code> æ ¼å¼æ›´åŠ æ˜“è¯»å’Œæ¸…æ™°ã€‚</li><li><code>â€“port</code>ï¼šæŒ‡å®šå¯åŠ¨çš„ HTTP æœåŠ¡ç›‘å¬ç«¯å£ã€‚</li></ul><p>åœ¨æµè§ˆå™¨æŸ¥çœ‹ API æ–‡æ¡£ï¼š</p><p><img src=https://raw.githubusercontent.com/shipengqi/illustrations/0dad40be58e3b5959e8a9093a92ce49a9e280c6d/go/swagger-redoc.png alt=swagger-redoc></p><p>è¿˜å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å°†ç”Ÿæˆçš„ <code>swagger.yaml</code> è½¬æ¢ä¸º <code>swagger.json</code>ï¼š</p><pre tabindex=0><code>$ swagger generate spec -i ./swagger.yaml -o ./swagger.json
</code></pre></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/shipengqi/golang-learn/commit/b048a599133a310223a8a95452d209a488e861e1 title='Last modified by shipengqi | December 10, 2024' target=_blank rel=noopener><img src=/golang-learn/svg/calendar.svg class=book-icon alt=Calendar>
<span>December 10, 2024</span></a></div><div><a class="flex align-center" href=https://github.com/shipengqi/golang-learn/edit/master/content/docs/project/06_api_doc.md target=_blank rel=noopener><img src=/golang-learn/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#api-æ–‡æ¡£>API æ–‡æ¡£</a><ul><li><a href=#ä½¿ç”¨-swagger-ç”Ÿæˆ-api-æ–‡æ¡£>ä½¿ç”¨ Swagger ç”Ÿæˆ API æ–‡æ¡£</a></li><li><a href=#swagger-ç¼–è¾‘å™¨>Swagger ç¼–è¾‘å™¨</a></li><li><a href=#åŸºäºä»£ç è‡ªåŠ¨ç”Ÿæˆ-swagger-æ–‡æ¡£>åŸºäºä»£ç è‡ªåŠ¨ç”Ÿæˆ Swagger æ–‡æ¡£</a><ul><li><a href=#å®‰è£…-go-swagger>å®‰è£… go-swagger</a></li><li><a href=#ä½¿ç”¨>ä½¿ç”¨</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>