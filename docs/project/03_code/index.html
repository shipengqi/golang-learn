<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="ä»£ç è§„èŒƒ # å¥½çš„ä»£ç è§„èŒƒéå¸¸é‡è¦ï¼Œå¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œå‡å°‘ bugï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚
Go å®˜æ–¹æä¾›çš„ä»£ç è§„èŒƒï¼š
Go Code Review Comments Effective Go Uber å¼€æºçš„ Go ç¼–ç è§„èŒƒï¼š
Uber Go Guide Go ä¹Ÿæä¾›äº†ä¸€äº›ä»£ç æ£€æŸ¥å·¥å…·ï¼Œä¾‹å¦‚ golintï¼Œgoimportsï¼Œgo vet ç­‰ï¼Œä½†æ˜¯è¿™äº›å·¥å…·æ£€æŸ¥çš„ä¸å¤Ÿå…¨é¢ã€‚
golangci-lint æ˜¯ä¸€ä¸ªæ›´åŠ å¼ºå¤§çš„é™æ€ä»£ç æ£€æŸ¥å·¥å…·ã€‚
golangci-lint # golangci-lint çš„è¿è¡Œé€Ÿåº¦éå¸¸å¿«ï¼Œå› ä¸ºå®ƒå¯ä»¥å¹¶è¡Œçš„è¿è¡Œ lintersï¼Œå¹¶ä¸”é‡ç”¨ Go çš„æ„å»ºç¼“å­˜ï¼Œç¼“å­˜åˆ†æç»“æœã€‚
golangci-lint é›†æˆäº†å¤§é‡çš„ lintersï¼Œä¸éœ€è¦é¢å¤–å®‰è£…ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚
å®‰è£… # $ go install github.com/golangci/golangci-lint/cmd/golangci-lint@v1.55.2 # éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ $ golangci-lint version æ›´å¤šå®‰è£…æ–¹å¼ã€‚
ä½¿ç”¨ # run å‘½ä»¤æ‰§è¡Œä»£ç æ£€æŸ¥ï¼š
$ golangci-lint run linters å‘½ä»¤æ‰“å°å‡º golangci-lint æ‰€æ”¯æŒçš„ lintersï¼š
$ golangci-lint linters é…ç½® # golangci-lint æœ‰ä¸¤ç§é…ç½®æ–¹å¼ï¼šå‘½ä»¤è¡Œé€‰é¡¹å’Œé…ç½®æ–‡ä»¶ã€‚
golangci-lint ä¼šåœ¨å½“å‰å·¥ä½œç›®å½•ä¸‹çš„ä»¥ä¸‹è·¯å¾„ä¸­æŸ¥æ‰¾é…ç½®æ–‡ä»¶ï¼š"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:title" content="ä»£ç è§„èŒƒ"><meta property="og:description" content="ä»£ç è§„èŒƒ # å¥½çš„ä»£ç è§„èŒƒéå¸¸é‡è¦ï¼Œå¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œå‡å°‘ bugï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚
Go å®˜æ–¹æä¾›çš„ä»£ç è§„èŒƒï¼š
Go Code Review Comments Effective Go Uber å¼€æºçš„ Go ç¼–ç è§„èŒƒï¼š
Uber Go Guide Go ä¹Ÿæä¾›äº†ä¸€äº›ä»£ç æ£€æŸ¥å·¥å…·ï¼Œä¾‹å¦‚ golintï¼Œgoimportsï¼Œgo vet ç­‰ï¼Œä½†æ˜¯è¿™äº›å·¥å…·æ£€æŸ¥çš„ä¸å¤Ÿå…¨é¢ã€‚
golangci-lint æ˜¯ä¸€ä¸ªæ›´åŠ å¼ºå¤§çš„é™æ€ä»£ç æ£€æŸ¥å·¥å…·ã€‚
golangci-lint # golangci-lint çš„è¿è¡Œé€Ÿåº¦éå¸¸å¿«ï¼Œå› ä¸ºå®ƒå¯ä»¥å¹¶è¡Œçš„è¿è¡Œ lintersï¼Œå¹¶ä¸”é‡ç”¨ Go çš„æ„å»ºç¼“å­˜ï¼Œç¼“å­˜åˆ†æç»“æœã€‚
golangci-lint é›†æˆäº†å¤§é‡çš„ lintersï¼Œä¸éœ€è¦é¢å¤–å®‰è£…ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚
å®‰è£… # $ go install github.com/golangci/golangci-lint/cmd/golangci-lint@v1.55.2 # éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ $ golangci-lint version æ›´å¤šå®‰è£…æ–¹å¼ã€‚
ä½¿ç”¨ # run å‘½ä»¤æ‰§è¡Œä»£ç æ£€æŸ¥ï¼š
$ golangci-lint run linters å‘½ä»¤æ‰“å°å‡º golangci-lint æ‰€æ”¯æŒçš„ lintersï¼š
$ golangci-lint linters é…ç½® # golangci-lint æœ‰ä¸¤ç§é…ç½®æ–¹å¼ï¼šå‘½ä»¤è¡Œé€‰é¡¹å’Œé…ç½®æ–‡ä»¶ã€‚
golangci-lint ä¼šåœ¨å½“å‰å·¥ä½œç›®å½•ä¸‹çš„ä»¥ä¸‹è·¯å¾„ä¸­æŸ¥æ‰¾é…ç½®æ–‡ä»¶ï¼š"><meta property="og:type" content="article"><meta property="og:url" content="https://shipengqi.github.io/golang-learn/docs/project/03_code/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-12-03T21:59:10+08:00"><title>ä»£ç è§„èŒƒ | Go Learning</title><link rel=manifest href=/golang-learn/manifest.json><link rel=icon href=/golang-learn/favicon.png><link rel=stylesheet href=/golang-learn/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz+OQteg=" crossorigin=anonymous><script defer src=/golang-learn/flexsearch.min.js></script>
<script defer src=/golang-learn/en.search.min.fe92e04ba07cc0f41f6a75f1c80d85bf2fac1dc49d6e5098de44895faeebc1f1.js integrity="sha256-/pLgS6B8wPQfanXxyA2Fvy+sHcSdblCY3kSJX67rwfE=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/golang-learn/><span>Go Learning</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=https://shipengqi.github.io/ target=_blank rel=noopener>Blog</a></li><li><a href=https://github.com/shipengqi/golang-learn target=_blank rel=noopener>Github</a></li></ul><ul><li><span>ğŸš è¯­è¨€åŸºç¡€</span><ul><li><a href=/golang-learn/docs/basic/01_basic_type/>åŸºç¡€æ•°æ®ç±»å‹</a></li><li><a href=/golang-learn/docs/basic/02_array/>æ•°ç»„</a></li><li><a href=/golang-learn/docs/basic/03_slice/>åˆ‡ç‰‡</a></li><li><a href=/golang-learn/docs/basic/04_map/>å“ˆå¸Œè¡¨</a></li><li><a href=/golang-learn/docs/basic/05_function/>å‡½æ•°</a></li><li><a href=/golang-learn/docs/basic/09_pointer/>æŒ‡é’ˆ</a></li></ul></li><li><a href=/golang-learn/docs/concurrency/>âš¡ å¹¶å‘ç¼–ç¨‹</a><ul><li><a href=/golang-learn/docs/concurrency/01_mutex/>äº’æ–¥é”</a></li><li><a href=/golang-learn/docs/concurrency/02_rwmutex/>è¯»å†™é”</a></li><li><a href=/golang-learn/docs/concurrency/03_waitgroup/>WaitGroup</a></li><li><a href=/golang-learn/docs/concurrency/04_cond/>æ¡ä»¶å˜é‡</a></li><li><a href=/golang-learn/docs/concurrency/05_once/>Once</a></li><li><a href=/golang-learn/docs/concurrency/06_pool/>Pool</a></li><li><a href=/golang-learn/docs/concurrency/07_context/>Context</a></li><li><a href=/golang-learn/docs/concurrency/08_atomic/>åŸå­æ“ä½œ</a></li><li><a href=/golang-learn/docs/concurrency/09_channel/>Channel</a></li><li><a href=/golang-learn/docs/concurrency/10_sema/>ä¿¡å·é‡</a></li><li><a href=/golang-learn/docs/concurrency/11_singleflight/>SingleFlight</a></li><li><a href=/golang-learn/docs/concurrency/12_errorgroup/>ErrGroup</a></li></ul></li><li><span>ğŸ› ï¸ å®è·µ</span><ul><li><a href=/golang-learn/docs/practice/01_build/>Go ç¼–è¯‘</a></li><li><a href=/golang-learn/docs/practice/02_go_race/>Go æ•°æ®ç«äº‰æ£€æµ‹å™¨</a></li><li><a href=/golang-learn/docs/practice/04_pprof/>Go æ€§èƒ½åˆ†æï¼ˆä¸Šï¼‰</a></li><li><a href=/golang-learn/docs/practice/05_trace/>Go æ€§èƒ½åˆ†æï¼ˆä¸‹ï¼‰</a></li><li><a href=/golang-learn/docs/practice/06_performance/>Go æ€§èƒ½ä¼˜åŒ–</a></li><li><a href=/golang-learn/docs/practice/07_coredump/>Go Core Dump è°ƒè¯•</a></li><li><a href=/golang-learn/docs/practice/08_mod/>Go Modules</a></li><li><a href=/golang-learn/docs/practice/09_gin/>Gin é™æ€æœåŠ¡å™¨</a></li><li><a href=/golang-learn/docs/practice/10_remote_dev/>Go è¿œç¨‹å¼€å‘è°ƒè¯•</a></li></ul></li><li><span>ğŸ› ï¸ Go å·¥ç¨‹å®è·µ</span><ul><li><a href=/golang-learn/docs/project/01_specs/>é¡¹ç›®è§„èŒƒ</a></li><li><a href=/golang-learn/docs/project/02_structure/>é¡¹ç›®çš„ç›®å½•ç»“æ„</a></li><li><a href=/golang-learn/docs/project/03_code/ class=active>ä»£ç è§„èŒƒ</a></li><li><a href=/golang-learn/docs/project/04_commitizen/>Commit è§„èŒƒ</a></li><li><a href=/golang-learn/docs/project/05_version/>ç‰ˆæœ¬è§„èŒƒ</a></li><li><a href=/golang-learn/docs/project/06_api_doc/>API æ–‡æ¡£</a></li><li><a href=/golang-learn/docs/project/07_flow/>Git å·¥ä½œæµç¨‹</a></li><li><a href=/golang-learn/docs/project/08_make/>é¡¹ç›®ç®¡ç†</a></li><li><a href=/golang-learn/docs/project/09_actions/>GitHub Actions</a></li><li><a href=/golang-learn/docs/project/10_dependabot/>GitHub Dependabot</a></li><li><a href=/golang-learn/docs/project/11_templates/>GitHub æ¨¡æ¿</a></li><li><a href=/golang-learn/docs/project/12_goreleaser/>GoReleaser</a></li></ul></li><li><a href=/golang-learn/docs/advance/>ğŸ” åº•å±‚åŸç†</a><ul></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/golang-learn/svg/menu.svg class=book-icon alt=Menu></label>
<strong>ä»£ç è§„èŒƒ</strong>
<label for=toc-control><img src=/golang-learn/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#ä»£ç è§„èŒƒ>ä»£ç è§„èŒƒ</a><ul><li><a href=#golangci-lint>golangci-lint</a><ul><li><a href=#å®‰è£…>å®‰è£…</a></li><li><a href=#ä½¿ç”¨>ä½¿ç”¨</a></li><li><a href=#é…ç½®>é…ç½®</a></li><li><a href=#è¯¯æŠ¥>è¯¯æŠ¥</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=ä»£ç è§„èŒƒ>ä»£ç è§„èŒƒ
<a class=anchor href=#%e4%bb%a3%e7%a0%81%e8%a7%84%e8%8c%83>#</a></h1><p>å¥½çš„ä»£ç è§„èŒƒéå¸¸é‡è¦ï¼Œå¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œå‡å°‘ bugï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p><p>Go å®˜æ–¹æä¾›çš„ä»£ç è§„èŒƒï¼š</p><ul><li><a href=https://github.com/golang/go/wiki/CodeReviewComments>Go Code Review Comments</a></li><li><a href=https://go.dev/doc/effective_go>Effective Go</a></li></ul><p>Uber å¼€æºçš„ Go ç¼–ç è§„èŒƒï¼š</p><ul><li><a href=https://github.com/uber-go/guide>Uber Go Guide</a></li></ul><p>Go ä¹Ÿæä¾›äº†ä¸€äº›ä»£ç æ£€æŸ¥å·¥å…·ï¼Œä¾‹å¦‚ <code>golint</code>ï¼Œ<code>goimports</code>ï¼Œ<code>go vet</code> ç­‰ï¼Œä½†æ˜¯è¿™äº›å·¥å…·æ£€æŸ¥çš„ä¸å¤Ÿå…¨é¢ã€‚</p><p>golangci-lint æ˜¯ä¸€ä¸ªæ›´åŠ å¼ºå¤§çš„é™æ€ä»£ç æ£€æŸ¥å·¥å…·ã€‚</p><h2 id=golangci-lint>golangci-lint
<a class=anchor href=#golangci-lint>#</a></h2><p>golangci-lint çš„è¿è¡Œé€Ÿåº¦éå¸¸å¿«ï¼Œå› ä¸ºå®ƒå¯ä»¥å¹¶è¡Œçš„è¿è¡Œ lintersï¼Œå¹¶ä¸”é‡ç”¨ Go çš„æ„å»ºç¼“å­˜ï¼Œç¼“å­˜åˆ†æç»“æœã€‚</p><p>golangci-lint é›†æˆäº†å¤§é‡çš„ <a href=https://golangci-lint.run/usage/linters/>linters</a>ï¼Œä¸éœ€è¦é¢å¤–å®‰è£…ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p><h3 id=å®‰è£…>å®‰è£…
<a class=anchor href=#%e5%ae%89%e8%a3%85>#</a></h3><pre tabindex=0><code>$ go install github.com/golangci/golangci-lint/cmd/golangci-lint@v1.55.2
# éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ
$ golangci-lint version
</code></pre><p><a href=https://golangci-lint.run/usage/install/>æ›´å¤šå®‰è£…æ–¹å¼</a>ã€‚</p><h3 id=ä½¿ç”¨>ä½¿ç”¨
<a class=anchor href=#%e4%bd%bf%e7%94%a8>#</a></h3><p><code>run</code> å‘½ä»¤æ‰§è¡Œä»£ç æ£€æŸ¥ï¼š</p><pre tabindex=0><code>$ golangci-lint run
</code></pre><p><code>linters</code> å‘½ä»¤æ‰“å°å‡º golangci-lint æ‰€æ”¯æŒçš„ lintersï¼š</p><pre tabindex=0><code>$ golangci-lint linters
</code></pre><h3 id=é…ç½®>é…ç½®
<a class=anchor href=#%e9%85%8d%e7%bd%ae>#</a></h3><p>golangci-lint æœ‰ä¸¤ç§é…ç½®æ–¹å¼ï¼š<a href=https://golangci-lint.run/usage/configuration/#command-line-options>å‘½ä»¤è¡Œé€‰é¡¹</a>å’Œ<a href=https://golangci-lint.run/usage/configuration/#config-file>é…ç½®æ–‡ä»¶</a>ã€‚</p><p>golangci-lint ä¼šåœ¨å½“å‰å·¥ä½œç›®å½•ä¸‹çš„ä»¥ä¸‹è·¯å¾„ä¸­æŸ¥æ‰¾é…ç½®æ–‡ä»¶ï¼š</p><ul><li><code>.golangci.yml</code></li><li><code>.golangci.yaml</code></li><li><code>.golangci.toml</code></li><li><code>.golangci.json</code></li></ul><p>ä¸€èˆ¬ä¼šåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>run</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>deadline</span>: <span style=color:#ae81ff>2m</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Include test files or not.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Default: true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>tests</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>linters</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Disable all linters.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Default: false</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>disable-all</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Enable specific linter</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># https://golangci-lint.run/usage/linters/#enabled-by-default</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>enable</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>misspell</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>govet</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>staticcheck</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>errcheck</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>unparam</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>ineffassign</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>nakedret</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>gocyclo</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>dupl</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>goimports</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>revive</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>gosec</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>gosimple</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>typecheck</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>unused</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># https://golangci-lint.run/usage/linters</span>
</span></span><span style=display:flex><span><span style=color:#f92672>linters-settings</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>gofmt</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>simplify</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>dupl</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>threshold</span>: <span style=color:#ae81ff>600</span>
</span></span></code></pre></div><h3 id=è¯¯æŠ¥>è¯¯æŠ¥
<a class=anchor href=#%e8%af%af%e6%8a%a5>#</a></h3><p>å¦‚æœå‡ºç°è¯¯æŠ¥ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼æ’å‡ºç‰¹å®šçš„ linterï¼š</p><p>ä»¥ <code>staticcheck</code> ä¸ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>linters-settings</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>staticcheck</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>checks</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>all</span>
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#39;-SA1000&#39;</span> <span style=color:#75715e># disable the rule SA1000</span>
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#39;-SA1004&#39;</span> <span style=color:#75715e># disable the rule SA1004</span>
</span></span></code></pre></div><h4 id=é€šè¿‡æ–‡æœ¬æ’é™¤é—®é¢˜>é€šè¿‡æ–‡æœ¬æ’é™¤é—®é¢˜
<a class=anchor href=#%e9%80%9a%e8%bf%87%e6%96%87%e6%9c%ac%e6%8e%92%e9%99%a4%e9%97%ae%e9%a2%98>#</a></h4><p>ä¸‹é¢çš„ç¤ºä¾‹ï¼Œæ‰€æœ‰åœ¨ exclude ä¸­å®šä¹‰çš„æ–‡æœ¬çš„æŠ¥å‘Šéƒ½ä¼šè¢«æ’é™¤ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>issues</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>exclude</span>:
</span></span><span style=display:flex><span>    - <span style=color:#e6db74>&#34;Error return value of .((os\\.)?std(out|err)\\..*|.*Close|.*Flush|os\\.Remove(All)?|.*printf?|os\\.(Un)?Setenv). is not checked&#34;</span>
</span></span><span style=display:flex><span>    - <span style=color:#e6db74>&#34;exported (type|method|function) (.+) should have comment or be unexported&#34;</span>
</span></span><span style=display:flex><span>    - <span style=color:#e6db74>&#34;ST1000: at least one file in a package should have a package comment&#34;</span>
</span></span></code></pre></div><p>ä¸‹é¢çš„ç¤ºä¾‹ï¼Œæ¥è‡ªæŒ‡å®š <code>linters</code>ï¼Œå¹¶ä¸”åŒ…å« <code>text</code> æŒ‡å®šçš„æ–‡æœ¬çš„æŠ¥å‘Šä¼šè¢«æ’é™¤ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>issues</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>exclude-rules</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>linters</span>:
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>gomnd</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>text</span>: <span style=color:#e6db74>&#34;mnd: Magic number: 9&#34;</span>
</span></span></code></pre></div><p>ä¸‹é¢çš„ç¤ºä¾‹ï¼Œæ¥è‡ªæŒ‡å®š <code>linters</code>ï¼Œå¹¶ä¸”æ¥è‡ªæŒ‡å®šçš„ <code>source</code> çš„æŠ¥å‘Šä¼šè¢«æ’é™¤ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>issues</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>exclude-rules</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>linters</span>:
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>lll</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>source</span>: <span style=color:#e6db74>&#34;^//go:generate &#34;</span>
</span></span></code></pre></div><p>ä¸‹é¢çš„ç¤ºä¾‹ï¼Œ<code>path</code> æŒ‡å®šçš„æ–‡ä»¶ï¼Œå¹¶ä¸”åŒ…å« <code>text</code> æŒ‡å®šçš„æ–‡æœ¬çš„æŠ¥å‘Šä¼šè¢«æ’é™¤ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>issues</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>exclude-rules</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>path</span>: <span style=color:#ae81ff>path/to/a/file.go</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>text</span>: <span style=color:#e6db74>&#34;string `example` has (\\d+) occurrences, make it a constant&#34;</span>
</span></span></code></pre></div><h4 id=é€šè¿‡è·¯å¾„æ’é™¤é—®é¢˜>é€šè¿‡è·¯å¾„æ’é™¤é—®é¢˜
<a class=anchor href=#%e9%80%9a%e8%bf%87%e8%b7%af%e5%be%84%e6%8e%92%e9%99%a4%e9%97%ae%e9%a2%98>#</a></h4><p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæ‰€æœ‰åŒ¹é… <code>path-except</code> æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶ï¼Œå¹¶ä¸”æ¥è‡ªæŒ‡å®š <code>linters</code> çš„æŠ¥å‘Šä¼šè¢«æ’é™¤ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>issues</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>exclude-rules</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>path</span>: <span style=color:#e6db74>&#39;(.+)_test\.go&#39;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>linters</span>:
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>funlen</span>
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>goconst</span>
</span></span></code></pre></div><p>æ’é™¤ç‰¹å®šè·¯å¾„ä»¥å¤–çš„æŠ¥å‘Šï¼Œä¸‹é¢çš„ç¤ºä¾‹ï¼Œåªæ£€æŸ¥ test æ–‡ä»¶ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>issues</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>exclude-rules</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>path-except</span>: <span style=color:#e6db74>&#39;(.+)_test\.go&#39;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>linters</span>:
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>funlen</span>
</span></span><span style=display:flex><span>        - <span style=color:#ae81ff>goconst</span>
</span></span></code></pre></div><p>ä¸‹é¢çš„ç¤ºä¾‹ï¼Œ<code>skip-files</code> ç›¸å…³çš„æ–‡ä»¶ä¼šè¢«æ’é™¤ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>run</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>skip-files</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>path/to/a/file.go</span>
</span></span></code></pre></div><p>ä¸‹é¢çš„ç¤ºä¾‹ï¼Œ<code>skip-dirs</code> ç›¸å…³çš„ç›®å½•ä¼šè¢«æ’é™¤ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>run</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>skip-dirs</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>path/to/a/dir/</span>
</span></span></code></pre></div><h4 id=nolint-æŒ‡ä»¤>nolint æŒ‡ä»¤
<a class=anchor href=#nolint-%e6%8c%87%e4%bb%a4>#</a></h4><p>ä½¿ç”¨ <code>//nolint:all</code> å¯ä»¥æ’é™¤æ‰€æœ‰é—®é¢˜ï¼Œå¦‚æœåœ¨è¡Œå†…ä½¿ç”¨ï¼ˆè€Œä¸æ˜¯ä»è¡Œé¦–å¼€å§‹ï¼‰ï¼Œåˆ™åªæ’é™¤è¿™ä¸€è¡Œçš„é—®é¢˜ã€‚ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>bad_name</span> <span style=color:#66d9ef>int</span> <span style=color:#75715e>//nolint:all
</span></span></span></code></pre></div><p>æ’é™¤æŒ‡å®š linters çš„é—®é¢˜ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>bad_name</span> <span style=color:#66d9ef>int</span> <span style=color:#75715e>//nolint:golint,unused
</span></span></span></code></pre></div><p>åœ¨è¡Œé¦–ä½¿ç”¨ <code>nolint</code>ï¼Œå¯ä»¥æ’é™¤æ•´ä¸ªä»£ç å—çš„é—®é¢˜ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>//nolint:all
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>allIssuesInThisFunctionAreExcluded</span>() <span style=color:#f92672>*</span><span style=color:#66d9ef>string</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//nolint:govet
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> (
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>a</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>)
</span></span></code></pre></div><p>æ’é™¤æ•´ä¸ªæ–‡ä»¶çš„é—®é¢˜ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>//nolint:unparam
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>package</span> <span style=color:#a6e22e>pkg</span>
</span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/shipengqi/golang-learn/commit/2693fbeb9296c498083681526ce91c2a5190c392 title='Last modified by PengQi Shi | December 3, 2023' target=_blank rel=noopener><img src=/golang-learn/svg/calendar.svg class=book-icon alt=Calendar>
<span>December 3, 2023</span></a></div><div><a class="flex align-center" href=https://github.com/shipengqi/golang-learn/edit/master/content/docs/project/03_code.md target=_blank rel=noopener><img src=/golang-learn/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#ä»£ç è§„èŒƒ>ä»£ç è§„èŒƒ</a><ul><li><a href=#golangci-lint>golangci-lint</a><ul><li><a href=#å®‰è£…>å®‰è£…</a></li><li><a href=#ä½¿ç”¨>ä½¿ç”¨</a></li><li><a href=#é…ç½®>é…ç½®</a></li><li><a href=#è¯¯æŠ¥>è¯¯æŠ¥</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>